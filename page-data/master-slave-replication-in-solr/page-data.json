{"componentChunkName":"component---src-templates-blog-post-js","path":"/master-slave-replication-in-solr","result":{"data":{"site":{"siteMetadata":{"title":"My Hive Posts"}},"hiveArticle":{"title":"Master Slave Replication in Solr","body":"We use SOLR a lot for searching. Now to reduce the workload of system we do replication as a Master and Slave where the complete copy of a master is copied over to one or more slave. \n\nThe intention of using Master-Slave Configuration is that we want one system to completely do the indexing i.e. if any new documents comes in it will  be added by the Master and once done slave will show it to the User by getting the updated list from the master. All queries or the result are handled by the slaves.\n\nTo start with the Master-Slave Replication you need atleast 2 system where one acts as a master and one as a slave. You can have more than one slave too, which all the slaves will act as a query processing server. \n\nThe configuration of the server is rather simple where you need to add the replication request handler as shown below in solrconfig.js.\n\n```\n<requestHandler name=\"/replication\" class=\"solr.ReplicationHandler\" >\n    <lst name=\"master\">\n        <str name=\"enable\">true</str>\n        <str name=\"replicateAfter\">commit</str>\n        <str name=\"confFiles\">schema.xml,stopwords.txt,elevate.xml</str>\n        <str name=\"commitReserveDuration\">00:00:20</str>\n        <str name=\"backupAfter\">optimize</str>\n     </lst>\n     <lst name=\"slave\">\n        <str name=\"enable\">false</str>\n        <str name=\"masterUrl\">MASTER_URL/replication</str>\n        <str name=\"pollInterval\">00:00:60</str>\n        <str name=\"compression\">internal</str>\n        <str name=\"httpConnTimeout\">5000</str>\n        <str name=\"httpReadTimeout\">10000</str> \n     </lst>\n  </requestHandler>\n```\n\nIf it is a master make `<str name=\"enable\"></str>` true and when it is slave it should be true. We want the replication should be done after all the files are indexed that's why it is replication after commit. In the confFiles you need to write what all the files which you want to replicate. Here  we are keeping schema.xml,stopwords.txt and elevate.xml.\n\nIn the slave we have to say which is the Master URL and what is the poll interval of finding the new documents from the master.\n\nThat way you can create Master-Slave configuration and thus the load is balanced between two system and not one.\n\n<br /><hr/><em>Posted on <a href=\"https://utopian.io/utopian-io/@codingdefined/master-slave-replication-in-solr\">Utopian.io -  Rewarding Open Source Contributors</a></em><hr/>","created":"December 23, 2017"}},"pageContext":{"title":"Master Slave Replication in Solr","permlink":"master-slave-replication-in-solr","previous":{"title":"Pending Review Tab is not getting Highlighted","permlink":"pending-review-tab-is-not-getting-highlighted"},"next":{"title":"Musical Fountain in Bangalore","permlink":"musical-fountain-in-bangalore"}}}}