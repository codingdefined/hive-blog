{"componentChunkName":"component---src-templates-blog-post-js","path":"/let-s-learn-how-to-create-a-discord-bot","result":{"data":{"site":{"siteMetadata":{"title":"My Hive Posts"}},"hiveArticle":{"title":"Let's Learn How to Create a Discord Bot","body":"If you are in the Discord App you might have seen a lot of Bot around whether its Banjo, Tatsumaki etc. You might be wondering how these bots got there, the answer is to write an application and run it on your local server or a public server to make it active. In this post, we will learn how to create a discord bot using Node.js.\n\n## Little about Node.js\nIf you are not familiar with Node.js, then its very easy to get started with Node.js as there are so many articles out there on web to get you started. One such article I have written on my blog [Getting Started with Node.js](http://www.codingdefined.com/2016/03/getting-started-with-nodejs.html). Few paragraphs about Node.js taken from the post.\n\n>Node.js uses v8 javascript engine which is the same engine used by Chrome browser. It is event driven and has non-blocking standard libraries which means if you are doing any I/O bound operations, it will happen asynchronously. Node.js is not a framework neither it is a programming language, it is just a run time environment for developing server-side web applications. You can use Node.js for creating I/O bound applications, data streaming applications, single page applications etc, but it is not advisable to use Node.js for CPU intensive applications.\n\n>When we are discussing Node.js Basics then you should be familiar about NPM. NPM is a node package manager which handles and resolves dependencies. It makes easy for JavaScript developers to share and re-use code and it makes it easy to update the code that you're sharing. It is been called as an online repository for Node.js packages/modules. To install modules using npm you need to run below command npm install package_name.\n\n>Node.js is very easy to install. Installers can be downloaded from Node.js Download Page. In order to structure your program into different files, Node.js provides you with the simple module system. To use this module system you need to use require() which is used to imports the contents from another JavaScript file.\n\nTo get started we need to install Node.js from [Nodejs.org](https://nodejs.org/en/download/). Once installed you can check the version of Node.js installed using command node -v in the Node.js Command Prompt.\n\n<center>![](https://steemitimages.com/DQmY329WkX9hUoFAbyarH4DMxSsmd9aUUiH78sHb62woaLU/image.png)</center>\n\n## Create new Discord App\n\nNow its time to create a new Discord App. At first you need to visit [Discord App Developer URL](https://discordapp.com/developers/applications/me) and create a new App. I have given my bot name as iamabot.\n\n![](https://steemitimages.com/DQmRosjB88vrKvwkvt1jjcBhpx2zrZsHGnocbekR7oFwr6m/image.png)\n\nYou can add the app description later, and no need to add the redirect now. \n\n![](https://steemitimages.com/DQmW1BwYKg5rCuony1PqCQsNdkVLK5SupUoDRzzCDfGJx4Z/image.png)\n\nNext, since the bot will be operated as a user, you need to create it by clicking on Create a Bot User.\n\n![](https://steemitimages.com/DQmckJU6pYZNuJkxDeYBLBKgSFpN2LaEJez8nipQLeg4kDw/image.png)\n\nOnce you do that you will get a User ID and a Token ID (Keep the Token ID Safe) and click on Public Bot (can be added on any server).\n\n![](https://steemitimages.com/DQmQVzehaFmYKAVrNgWA7VLT6JkJJYtE8xDNPuNw1yu6oAd/image.png)\n\nOur Bot has been created, now it's time to write some code in Node.js.\n\n## Node.js Application\n\nAt first, you need to create a package.json file. The content of the Package.json is shown below. We will be using discord.js node.js module to interact with Discord App.\n\n![](https://steemitimages.com/DQmWnZ4WqgKKWFGhhkxTxj9SEbSNUfjTBXNwHkKqWSbe6JA/image.png)\n\n```javascript\n{\n  \"name\": \"discordapp\",\n  \"version\": \"1.0.0\",\n  \"description\": \"A discord Bot\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"start\": \"node index.js\",\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"discordie\": \"^0.11.0\"\n  }\n}\n```\n\nThe index.js file content is\n\n```javascript\nvar Discordie = require('discordie');\nvar request = require('request');\nvar Events = Discordie.Events;\n\nvar client = new Discordie();\n\nclient.connect({\n\ttoken: 'Your Bot Token'\n})\n\nclient.Dispatcher.on(Events.GATEWAY_READY, e => {\n\tconsole.log('Connected as: '+ client.User.username);\n});\n\nclient.Dispatcher.on(Events.MESSAGE_CREATE, e => {\n\tvar content = e.message.content;\n\tif(content.indexOf(\"$price \") == 0) {\n\t\tvar coin = content.replace(\"$price \", \"\");\n\t\tvar value = '';\n\t\ttry{\n\t\t\trequest('http://api.coinmarketcap.com/v1/ticker/' + coin + '/', \n                            function(error,res,body) {\n\t\t  \t\tvar obj = JSON.parse(body);\n\t\t  \t\tconsole.log(obj[0]);\n\t\t  \t\tif(obj[0] === undefined)\n\t\t  \t\t{\n\t\t  \t\t\te.message.channel.sendMessage(\"You have entered a wrong id\");\n\t\t  \t\t}\n\t\t  \t\telse\n\t\t  \t\t{\n\t\t  \t\t\tvalue = coin.toUpperCase() +\n                               \" : Current Price \" + obj[0].price_usd + \n                               \" | 24hr Percentage Change \" + obj[0].percent_change_24h;\n\t\t  \t\t\te.message.channel.sendMessage(value);\n\t\t  \t\t}\n\t\t\t});\n\t\t}\n\t\tcatch (err) {\n\t\t\te.message.channel.sendMessage(\"Wrong ID, Have a Great Day\");\n\t\t}\n\t\t\n\t}\n});\n```\n\nIn the above code at first, you need to connect to the Discord client using the token of your app. Now once it is connected it will emit an event and write it to the console that my bot is connected. Next, we will check which cryptocurrency the user has typed after the $price and get the price of that cryptocurrency using the coinmarketcap api.\n\nNow run the index.js file using command node index.js as shown below:\n\n<center>![](https://steemitimages.com/DQmR29ZFMTJgZvS2yYSmaLkBjdoYQGsyn5nAXD9kW3na8K7/image.png)</center>\n\n## Add bot to the Server\n\nOnce Connected we need to add this bot to our server. For this, you need to take the Client ID of the bot and add it to the below url \n\nhttps://discordapp.com/oauth2/authorize?&client_id=ClientId&scope=bot\n\nWhen you open the above link it will ask which server you want to add the bot too. Note that you can only add this bot to that server which you are managing, other servers will not be shown.\n\n<center>![](https://steemitimages.com/DQmU4rEvNK6QUtRKmj56L7M3F4596pQ7KhfCYmGnBQKAqwc/image.png)</center>\n\nOnce added you can see it on the right-hand side, now time to play with our new bot. See in the below pic, it's giving me the output.\n\n<center>![](https://steemitimages.com/DQmfH8oy9tewMe6U7F36rCsG5qRmcjLCaGo4Vd9vCGFk7zV/image.png)</center>\n\nThere are a lot of improvements which need to be done on this bot. If you have any suggestions or comments, please do comment.\n\n<hr>\n\n### <center>Follow @codingdefined</center>","created":"September 24, 2017"}},"pageContext":{"title":"Let's Learn How to Create a Discord Bot","permlink":"let-s-learn-how-to-create-a-discord-bot","previous":{"title":"ðŸ“· Beautiful Sunset In Bangalore, India ðŸ“·","permlink":"beautiful-sunset-in-bangalore-india"},"next":{"title":"Curie Weekly Update (17th September to 24th September 2017)","permlink":"curie-weekly-update-17th-september-to-24th-september-2017"}}}}