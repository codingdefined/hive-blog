{"componentChunkName":"component---src-templates-blog-post-js","path":"/fix-issue-with-help-command-in-community-discord-bot","result":{"data":{"site":{"siteMetadata":{"title":"My Hive Posts"}},"hiveArticle":{"title":"Fix Issue with Help Command in Community-Discord-BOT","body":"#### Repository\nhttps://github.com/discord-bot-tutorial/Community-Discord-BOT\nPull Request : https://github.com/discord-bot-tutorial/Community-Discord-BOT/pull/130\n\n#### Project Info\n\nA community-driven public Discord-BOT using C# and Discord .NET. The goal of this project is to create a solid general-purpose bot that can be easily extended and used in new and interesting ways.\n\n#### Bug Fixes\n\n###### Issue?\n\nThe help command of the bot was not checking the size of the embed. When the size reaches 6000 characters an exception is thrown and no help is sent as shown below https://github.com/discord-bot-tutorial/Community-Discord-BOT/issues/81\n\n![](https://cdn.steemitimages.com/DQmPzZ6Q7AGN41LZfGshd8bQKwJUHS8sqgmuNiYA21iYWT7/image.png)\n\n###### Solution?\n\nAfter checking the code, all the help messages is adding as an Embed Field and when we are building the message the length of the message is going over 6000. At first I have taken a deep copy of the Embed Fields \n\n`var fields = builder.Fields.ToList();`\n\nNow checking if the embed length is over 6000. If it is more than 6000 removing the initial 10 fields from the embed. After removing fields again checking the length, if it is more just decreasing the initial count by 1 so that this time I will take one less than the previous one. \n\nSo when I am sending the message I am sending it for the first 10 fields only and the next message is sent for the remaining field. \n\n![](https://cdn.steemitimages.com/DQmV1FJbV4NJyrPtCJrTQQvJYJjeGwDkQ91aEipbEcqSbX6/image.png)\n\n#### GitHub Account\nhttps://github.com/codingdefined","created":"October 11, 2018"}},"pageContext":{"title":"Fix Issue with Help Command in Community-Discord-BOT","permlink":"fix-issue-with-help-command-in-community-discord-bot","previous":{"title":"A Glowing Hotel","permlink":"a-glowing-hotel"},"next":{"title":"Beautiful Sunday Trip to BBQ'D Restaurant","permlink":"beautiful-sunday-trip-to-bbq-d-restaurant"}}}}